<!DOCTYPE html>
<html lang="en" xmlns:style="http://www.w3.org/1999/xhtml" xmlns:float="http://www.w3.org/1999/xhtml" style="height:100%;width:100%">
<head>
    <meta charset="utf-8">
    <title>Argus Administrator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- CSS -->
    <link rel="stylesheet" href="../css/form.css">
    <link rel="stylesheet" href="../css/Style.css">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <script src="../js/jquery-1.8.2.min.js"></script>
    <script src="../js/jquery.cookie.js"></script>
    <script src="../js/jquery-1.8.2.min.js"></script>
    <script src="../js/jquery.cookie.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</head>

<body style="height: 100%;width:100%">

<div class="page-container" style="height:100%;width:100%">

    <div class="col-sm-3 text" style="background-color: #996699;height:200%;width:25%">
        <h1> <strong>Argus System</strong></h1>
        <p id="usernum" style="text-align:center;"></p>
        <p id="ininum" style="text-align:center;"></p>
        <p id="workernum" style="text-align:center;"></p>
        <p id="tasknum" style="text-align:center;"></p>
        <p id="taskon" style="text-align:center;"></p>
        <p id="taskfn" style="text-align:center;"></p>
        <p id="imagenum" style="text-align:center;"></p>
        <div>
            <button id="logout" class="btn btn-default " >Log out</button>
        </div>
        <br>
    </div>
    <div class="col-md-9 text">
        <div class="col-md-12 text">
            <p>会员管理</p>
        </div>

        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    注册与登陆
                </div>
                <div class="panel-body">
                    <div id="morris-bar-chart"></div>
                </div>
            </div>
        </div>
        <div class="col-md-12 text">
            <p>基础统计</p>
        </div>
        <div class="col-md-4 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Users
                </div>
                <div class="panel-body">
                    <div id="Users"></div>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Task Status
                </div>
                <div class="panel-body">
                    <div id="TaskStatus"></div>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Task Type
                </div>
                <div class="panel-body">
                    <div id="TaskType"></div>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    平均图片数量（张）
                </div>
                <div class="panel-body">
                    <div id="Picnum"></div>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    平均报酬数量（分/（张*人））
                </div>
                <div class="panel-body">
                    <div id="Payment"></div>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    平均完成时间
                </div>
                <div class="panel-body">
                    <div id="Fndays"></div>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    平均标注速度
                </div>
                <div class="panel-body">
                    <div id="Fnspeed"></div>
                </div>
            </div>
        </div>
        <div class="col-md-12 text">
            <p>进阶分析</p>
        </div>
        <div class="col-md-6 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    报酬数量与标注速度关系
                </div>
                <div class="panel-body">
                    <div id="Analy1"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    图片数量与完成时间关系
                </div>
                <div class="panel-body">
                    <div id="Analy2"></div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    var Data = null

    $.ajax({
        url: 'http://localhost:8080/getInfo',
        type: 'post',
        async: false,
        data: {
        },
        success: function (data) {
            Data = data
        },
        error: function() {
            alert('fail')
        }
    })

    var Obj = JSON.parse(Data)
    var num0=Obj.usernum;
    var num1=Obj.ininum;
    var num2=Obj.workernum;
    var num3=Obj.tasknum;
    var num4=Obj.taskog;
    var num5=Obj.taskfn;
    var num6=Obj.imagenum;
    var num7=Obj.type0num;
    var num8=Obj.type1num;
    var num9=Obj.type2num;

    document.getElementById('usernum').innerHTML="系统用户数："+num0;
    document.getElementById('ininum').innerHTML="众包发起者数："+num1;
    document.getElementById('workernum').innerHTML="众包工人数："+num2;
    document.getElementById('tasknum').innerHTML="系统任务数："+num3;
    document.getElementById('taskon').innerHTML="进行中任务数："+num4;
    document.getElementById('taskfn').innerHTML="已完成任务数："+num5;
    document.getElementById('imagenum').innerHTML="总图片张数："+num6;

    document.getElementById('logout').onclick=function (e) {
        window.location="http://localhost:8080"
    }
    var bardata= [{
        y: '06-13',
        a: 1,
        b: 1
    }, {
        y: '06-14',
        a: 2,
        b: 5
    }, {
        y: '06-15',
        a: 1,
        b: 6
    }, {
        y: '06-16',
        a: 3,
        b: 4
    }, {
        y: '06-17',
        a: 0,
        b: 5
    }, {
        y: '06-18',
        a: 1,
        b: 3
    }, {
        y: '06-19',
        a: 0,
        b: 7
    },
        {
            y: '06-20',
            a: 2,
            b: 5
        }];

    var Picnum=[{
        y:"",
        a:535,
        b:402,
        c:325
    }]

    var Payment=[{
        y:"",
        a:1.2,
        b:1.6,
        c:1.8
    }]

    var Fndays=[{
        y:"",
        a:7.8,
        b:8.4,
        c:9.2
    }]

    var Fnspeed=[{
        y:"",
        a:68.59,
        b:47.86,
        c:35.33
    }]

    var usersdata=[{
        label: "Initiators",
        value: num1
    }, {
        label: "Workers",
        value: num2
    }];
    var taskstatusdata=[{
        label: "OngoingTask",
        value: num4
    }, {
        label: "FinishedTask",
        value: num5
    }];
    var tasktypedata=[{
        label: "整体标注",
        value: num7
    }, {
        label: "方框框选",
        value: num8
    }, {
        label: "方框标注",
        value: num9
    }];
    var areadata=[{
        period: '2010 Q1',
        iphone: 2666,
        ipad: null,
        itouch: 2647
    }, {
        period: '2010 Q2',
        iphone: 2778,
        ipad: 2294,
        itouch: 2441
    }, {
        period: '2010 Q3',
        iphone: 4912,
        ipad: 1969,
        itouch: 2501
    }, {
        period: '2010 Q4',
        iphone: 3767,
        ipad: 3597,
        itouch: 5689
    }, {
        period: '2011 Q1',
        iphone: 6810,
        ipad: 1914,
        itouch: 2293
    }, {
        period: '2011 Q2',
        iphone: 5670,
        ipad: 4293,
        itouch: 1881
    }, {
        period: '2011 Q3',
        iphone: 4820,
        ipad: 3795,
        itouch: 1588
    }, {
        period: '2011 Q4',
        iphone: 15073,
        ipad: 5967,
        itouch: 5175
    }, {
        period: '2012 Q1',
        iphone: 10687,
        ipad: 4460,
        itouch: 2028
    }, {
        period: '2012 Q2',
        iphone: 8432,
        ipad: 5713,
        itouch: 1791
    }];

    var Analy1=[
        { y: '1-1.2', a: 40.2, b: 35.6,c:30.2},
        { y: '1.2-1.4', a: 44.6, b: 39.4,c:33.3},
        { y: '1.4-1.6', a: 53.5,  b: 42.7,c:36.4},
        { y: '1.6-1.8', a: 57.8,  b: 44.6,c:42.5},
        { y: '1.8-2.0', a: 66.7,  b: 49.8,c:47.8},
        { y: '2.0+', a: 72.3,  b: 55.4,d:54.2},
    ];

    var Analy2=[
        { y: '0-500', a: 4.6, b: 5.8,c:6.6},
        { y: '500-1000', a: 6.2, b: 7.4,c:8.3},
        { y: '1000-1500', a: 7.8,  b: 9.7,c:10.4},
        { y: '1500-2000', a: 9.6,  b: 11.6,c:12.5},
        { y: '2000-2500', a: 11.2,  b: 13.8,c:15.8},
        { y: '2500+', a: 14.6,  b: 16.4,d:18.6},
    ];

</script>
<!-- jQuery Js -->
<script src="../js/jquery-1.10.2.js"></script>
<!-- Bootstrap Js -->
<script src="../js/bootstrap.min.js"></script>
<!-- Metis Menu Js -->
<script src="../js/jquery.metisMenu.js"></script>
<!-- Morris Chart Js -->
<script src="../js/morris/raphael-2.1.0.min.js"></script>
<script src="../js/morris/morris.js"></script>
<!-- Custom Js -->
<script src="../js/custom-scripts.js"></script>

</body>
</html>